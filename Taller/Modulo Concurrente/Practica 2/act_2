programa act2
procesos
  proceso izquierda
  comenzar
    repetir 3
      derecha
  fin
  proceso recogerPapeles(ES papel: numero)
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
      papel:= papel + 1
    mientras HayPapelEnLaBolsa
      depositarPapel
  fin
  proceso recogerFlores(ES flor: numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      flor:= flor + 1
    mientras HayFlorEnLaBolsa
      depositarFlor
  fin
  proceso recogerFlorYPapel(ES flor: numero; ES papel: numero)
  comenzar
    recogerFlores(flor)
    recogerPapeles(papel)
  fin
  proceso peldanio(E altura: numero; ES flor: numero; ES papel: numero)
  comenzar
    repetir altura
      recogerFlorYPapel(flor, papel)
      mover
    derecha
    mover
    recogerFlorYPapel(flor, papel)
    izquierda  
  fin
areas
  ciudad: AreaC (1,1,100,100)
robots
  robot robot1
  variables
    papel, flor: numero
    cantEscalon, altura: numero
  comenzar
    papel:= 0
    flor:= 0
    cantEscalon:= 0
    repetir 4
      papel:= 0
      flor:= 0
      Random(altura, 1, 5)
      peldanio(altura, flor, papel)
      si (flor > papel)
        cantEscalon:= cantEscalon + 1
    EnviarMensaje(cantEscalon, R4)
  fin
  robot jefe
  variables
    escalones, aux: numero
  comenzar
    escalones:= 0
    repetir 3
      RecibirMensaje(aux, *)
      escalones:= escalones + aux
    Informar(escalones)
  fin 
variables
  R1, R2, R3: robot1
  R4: jefe
comenzar
  AsignarArea(R1, ciudad)
  AsignarArea(R2, ciudad)
  AsignarArea(R3, ciudad)
  AsignarArea(R4, ciudad)
  Iniciar(R4, 1,1)
  Iniciar(R1, 2,1)
  Iniciar(R2, 7,1)
  Iniciar(R3, 12,1)
fin