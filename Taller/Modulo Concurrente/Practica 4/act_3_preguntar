programa act2
procesos
  proceso recogerPapeles
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
  fin
  proceso enviarMensaje(E Id: numero)
  variables
    idAux: numero
  comenzar
    si (Id = 1)
      EnviarMensaje(Id, R2)
      EnviarMensaje(Id, R3)
      RecibirMensaje(idAux, R2)
      RecibirMensaje(idAux, R3)
    sino
      si (Id = 2)
        EnviarMensaje(Id, R1)
        EnviarMensaje(Id, R3)
        RecibirMensaje(idAux, R1)
        RecibirMensaje(idAux, R3)
      sino
        EnviarMensaje(Id, R1)
        EnviarMensaje(Id, R2)
        RecibirMensaje(idAux, R1)
        RecibirMensaje(idAux, R2)
  fin
areas
  areaLimpieza1: AreaP (1,1,1,100)
  areaLimpieza2: AreaP (2,1,2,100)
  areaLimpieza3: AreaP (3,1,3,100)
  areaCoordi: AreaP (100,1,100,1)
robots
  robot Limpiador
  variables
    Id: numero
  comenzar
    RecibirMensaje(Id, R4)
    repetir (19)
      repetir 5
        recogerPapeles
        mover
      enviarMensaje(Id)
    repetir 4
      recogerPapeles
      mover
    enviarMensaje(Id)  
  fin
  robot Coordinador
  comenzar
    EnviarMensaje(1, R1)
    EnviarMensaje(2, R2)
    EnviarMensaje(3, R3)
  fin
variables
  R1, R2, R3: Limpiador 
  R4: Coordinador
comenzar
  AsignarArea(R1, areaLimpieza1)
  AsignarArea(R2, areaLimpieza2)
  AsignarArea(R3, areaLimpieza3)
  AsignarArea(R4, areaCoordi)  
  Iniciar(R1, 1,1)
  Iniciar(R2, 2,1)
  Iniciar(R3, 3,1) 
  Iniciar(R4, 100,1) 
  
fin